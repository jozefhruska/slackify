datasource db {
  provider = "postgresql"
  url      = env("POSTGRES_URL")
  enabled  = env("POSTGRES_URL")
  // url      = "postgresql://postgres:password@localhost:5432/postgres"
}

generator cient_prisma {
  provider = "prisma-client-js"
}

generator cient_service_slack {
  provider = "prisma-client-js"
  output   = "../service-slack/node_modules/@prisma/client"
}

generator client_service_private {
  provider = "prisma-client-js"
  output   = "../service-private/node_modules/@prisma/client"
}

generator client_service_public {
  provider = "prisma-client-js"
  output   = "../service-public/node_modules/@prisma/client"
}

model User {
  id          String @id
  email       String @unique
  name        String
  accessToken String @unique
  team        Team
  posts       Post[]
}

model Collection {
  id     String @default(cuid()) @id
  handle String
  team   Team
  posts  Post[]
}

model Team {
  id          String @id
  name        String
  domain      String @unique
  accessToken String @unique
}

model Post {
  id          String     @default(cuid()) @id
  type        String
  title       String
  short       String
  content     String?
  isPublished Boolean
  collection  Collection
  author      User
  createdAt   DateTime   @default(now())
  updatedAt   DateTime   @updatedAt
}