# Migration `20200321131604-specify-relations-with-component-data`

This migration has been generated by Jozef Hru≈°ka at 3/21/2020, 1:16:04 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql

```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200320201009-make-article-lead-optional..20200321131604-specify-relations-with-component-data
--- datamodel.dml
+++ datamodel.dml
@@ -1,9 +1,8 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("POSTGRES_URL")
   enabled  = env("POSTGRES_URL")
-  // url = "***"
 }
 generator cient_prisma {
   provider = "prisma-client-js"
@@ -63,11 +62,11 @@
   type          ComponentType           @default(ARTICLE)
   published     Boolean                 @default(false)
   collection    Collection
   author        User
-  plainTextData PlainTextComponentData?
-  articleData   ArticleComponentData?
-  linkData      LinkComponentData?
+  plainTextData PlainTextComponentData? @relation(references: [id])
+  articleData   ArticleComponentData?   @relation(references: [id])
+  linkData      LinkComponentData?      @relation(references: [id])
   createdAt     DateTime                @default(now())
   updatedAt     DateTime                @updatedAt
 }
@@ -76,16 +75,16 @@
   text String
 }
 model ArticleComponentData {
-  id        String    @default(cuid()) @id
+  id        String  @default(cuid()) @id
   title     String
   lead      String?
   content   String
 }
 model LinkComponentData {
-  id   String @default(cuid()) @id
+  id   String  @default(cuid()) @id
   text String?
   url  String
 }
```


