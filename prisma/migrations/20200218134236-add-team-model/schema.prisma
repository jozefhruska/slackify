datasource db {
  provider = "postgresql"
  url = "***"
  enabled  = env("POSTGRES_URL")
  // url = "***"
}

generator photon {
  provider = "prisma-client-js"
  output   = "../service-slack/generated/client"
}

model User {
  id          String @id
  email       String @unique
  name        String
  accessToken String @unique
  team        Team
  posts       Post[]
}

model Category {
  id     String @default(cuid()) @id
  handle String
  team   Team
  posts  Post[]
}

model Team {
  id     String @id
  name   String
  domain String
}

model Post {
  id          String   @default(cuid()) @id
  type        String
  title       String
  short       String
  content     String?
  isPublished Boolean
  category    Category
  author      User
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}