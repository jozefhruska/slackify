# Migration `20200305172946-add-team-access-token`

This migration has been generated by Jozef Hru≈°ka at 3/5/2020, 5:29:46 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Team" ADD COLUMN "accessToken" text  NOT NULL DEFAULT '';

CREATE UNIQUE INDEX "Team.domain" ON "public"."Team"("domain")

CREATE UNIQUE INDEX "Team.accessToken" ON "public"."Team"("accessToken")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200218134236-add-team-model..20200305172946-add-team-access-token
--- datamodel.dml
+++ datamodel.dml
@@ -1,16 +1,30 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("POSTGRES_URL")
   enabled  = env("POSTGRES_URL")
-  // url = "***"
+  // url      = "postgresql://postgres:password@localhost:5432/postgres"
 }
-generator photon {
+generator cient_prisma {
   provider = "prisma-client-js"
-  output   = "../service-slack/generated/client"
 }
+generator cient_service_slack {
+  provider = "prisma-client-js"
+  output   = "../service-slack/node_modules/@prisma/client"
+}
+
+generator client_service_private {
+  provider = "prisma-client-js"
+  output   = "../service-private/node_modules/@prisma/client"
+}
+
+generator client_service_public {
+  provider = "prisma-client-js"
+  output   = "../service-public/node_modules/@prisma/client"
+}
+
 model User {
   id          String @id
   email       String @unique
   name        String
@@ -26,11 +40,12 @@
   posts  Post[]
 }
 model Team {
-  id     String @id
-  name   String
-  domain String
+  id          String @id
+  name        String 
+  domain      String @unique
+  accessToken String @unique
 }
 model Post {
   id          String   @default(cuid()) @id
```


