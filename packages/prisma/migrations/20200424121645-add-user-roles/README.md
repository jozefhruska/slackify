# Migration `20200424121645-add-user-roles`

This migration has been generated by Jozef Hru≈°ka at 4/24/2020, 12:16:45 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TYPE "UserRole" AS ENUM ('OWNER', 'EDITOR', 'AUTHOR', 'VIEWER');

ALTER TABLE "public"."User" ADD COLUMN "role" "UserRole" NOT NULL DEFAULT 'VIEWER';
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200423205341-init..20200424121645-add-user-roles
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
   enabled  = env("DATABASE_URL")
 }
 generator cient_common {
@@ -12,8 +12,9 @@
 model User {
   id          String      @id
   email       String      @unique
   name        String
+  role        UserRole    @default(VIEWER)
   accessToken String      @unique
   image_24    String?
   image_32    String?
   image_48    String?
@@ -85,8 +86,15 @@
   text String?
   url  String
 }
+enum UserRole {
+  OWNER
+  EDITOR
+  AUTHOR
+  VIEWER
+}
+
 enum ComponentType {
   PLAIN_TEXT
   ARTICLE
   LINK
```


